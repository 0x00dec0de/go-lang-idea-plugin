// Copyright 2009 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.

// HTTP server.  See RFC 2616.

package http


func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request) {
  for {
        w, err := c.readRequest()
  }
  
  for atomic.LoadUint32(&x) != expected {
  
  }
  
  for ; ; c <- *a[S{}.i] {
          if t != nil {
                  break
          }
  }
  
  if req.RequestURI == "*" && req.Method == "OPTIONS" {
        handler = globalOptionsHandler{}
  }
}